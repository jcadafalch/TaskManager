@using GestorTareas.Shared
@using GestorTareas.Client.Components.Etiqueta

<MudDialog>
    <DialogContent>
        @*Si queremos añadir una etiqueta a la tarea, mostramos el listado de etiquetas, teniendo deshabilitadas aquellas que ya están añadidas*@
        @if (Add)
        {
            @if (Etiquetas is not null)
            {
                @foreach (var etiqueta in Etiquetas)
                {
                    <MudChip Color="Color.Primary" Disabled="@Array.Exists(EtiquetasTarea, e => e.Id == etiqueta.Id)" OnClose="AddEtiqueta" CloseIcon="@Icons.Filled.Add" Size="Size.Small" Tag="@etiqueta">@etiqueta.Name</MudChip>
                }
            }
        }

        @*Si queremos retirar la etiqueta de la tarea, mostramos mensaje de confirmación*@
        @if (Remove)
        {
            <MudText><h3 style="font-weight: normal;">Estas a punto de eliminar la etiqueta <i>@Etiqueta.Name</i>.</h3></MudText>
            <MudText Typo="Typo.body1"><b>Estás seguro?</b></MudText>
            <MudText Typo="Typo.body2" Class="mt-2">Esta acción <b><i>NO</i></b> se puede deshacer!</MudText>
        }
    </DialogContent>
    <DialogActions>
        @*Si queremos retirar la etiqueta de la tarea, mostramos botón de confirmación*@
        @if(Remove){
            <MudButton OnClick="RemoveEtiqueta" Variant="Variant.Filled" Color="Color.Error" StartIcon="@Icons.Filled.LabelOff">Retirar!</MudButton>
        }
    </DialogActions>

</MudDialog>